<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>CHAI JEHYUNG</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="CHAI JEHYUNG"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="CHAI JEHYUNG"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="title: ‘자전거’date: ‘2022-07-08 09:00’ 12from google.colab import drive drive.mount(&amp;quot;&amp;#x2F;content&amp;#x2F;drive&amp;quot;)  Drive already mounted at &amp;#x2F;content&amp;#x2F;drive; to attempt to forcibly remount, call drive.moun"><meta property="og:type" content="blog"><meta property="og:title" content="CHAI JEHYUNG"><meta property="og:url" content="https://westar99.github.io/2022/07/08/day0708/"><meta property="og:site_name" content="CHAI JEHYUNG"><meta property="og:description" content="title: ‘자전거’date: ‘2022-07-08 09:00’ 12from google.colab import drive drive.mount(&amp;quot;&amp;#x2F;content&amp;#x2F;drive&amp;quot;)  Drive already mounted at &amp;#x2F;content&amp;#x2F;drive; to attempt to forcibly remount, call drive.moun"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://westar99.github.io/images/day0708/output_31_0.png"><meta property="og:image" content="https://westar99.github.io/images/day0708/output_33_0.png"><meta property="og:image" content="https://westar99.github.io/images/day0708/output_35_0.png"><meta property="og:image" content="https://westar99.github.io/images/day0708/output_37_0.png"><meta property="og:image" content="https://westar99.github.io/images/day0708/output_41_0.png"><meta property="og:image" content="https://westar99.github.io/images/day0708/output_44_1.png"><meta property="article:published_time" content="2022-07-08T08:22:44.000Z"><meta property="article:modified_time" content="2022-07-08T08:27:11.184Z"><meta property="article:author" content="John Doe"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/images/day0708/output_31_0.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://westar99.github.io/2022/07/08/day0708/"},"headline":"CHAI JEHYUNG","image":["https://westar99.github.io/images/day0708/output_31_0.png","https://westar99.github.io/images/day0708/output_33_0.png","https://westar99.github.io/images/day0708/output_35_0.png","https://westar99.github.io/images/day0708/output_37_0.png","https://westar99.github.io/images/day0708/output_41_0.png","https://westar99.github.io/images/day0708/output_44_1.png"],"datePublished":"2022-07-08T08:22:44.000Z","dateModified":"2022-07-08T08:27:11.184Z","author":{"@type":"Person","name":"John Doe"},"publisher":{"@type":"Organization","name":"CHAI JEHYUNG","logo":{"@type":"ImageObject","url":"https://westar99.github.io/img/logo.svg"}},"description":"title: ‘자전거’date: ‘2022-07-08 09:00’ 12from google.colab import drive drive.mount(&quot;&#x2F;content&#x2F;drive&quot;)  Drive already mounted at &#x2F;content&#x2F;drive; to attempt to forcibly remount, call drive.moun"}</script><link rel="canonical" href="https://westar99.github.io/2022/07/08/day0708/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 6.2.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="CHAI JEHYUNG" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-07-08T08:22:44.000Z" title="2022. 7. 8. 오후 5:22:44">2022-07-08</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-07-08T08:27:11.184Z" title="2022. 7. 8. 오후 5:27:11">2022-07-08</time></span><span class="level-item">29 minutes read (About 4293 words)</span></div></div><div class="content"><hr>
<h1 id="title-‘자전거’"><a href="#title-‘자전거’" class="headerlink" title="title: ‘자전거’"></a><strong>title: ‘자전거’</strong></h1><h1 id="date-‘2022-07-08-09-00’"><a href="#date-‘2022-07-08-09-00’" class="headerlink" title="date: ‘2022-07-08 09:00’"></a><strong>date: ‘2022-07-08 09:00’</strong></h1><hr>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> google.colab <span class="keyword">import</span> drive </span><br><span class="line">drive.mount(<span class="string">&quot;/content/drive&quot;</span>)</span><br></pre></td></tr></table></figure>

<pre><code>Drive already mounted at /content/drive; to attempt to forcibly remount, call drive.mount(&quot;/content/drive&quot;, force_remount=True).
</code></pre>
<h2 id="step-01-필수-라이브러리-불러오기"><a href="#step-01-필수-라이브러리-불러오기" class="headerlink" title="step 01. 필수 라이브러리 불러오기"></a>step 01. 필수 라이브러리 불러오기</h2><ul>
<li>주석</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd <span class="comment"># 데이터 가공</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np <span class="comment"># 수치 연산</span></span><br><span class="line"><span class="keyword">import</span> matplotlib <span class="keyword">as</span> mpl <span class="comment"># 시각화 </span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt </span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns <span class="comment"># 시각화 </span></span><br><span class="line"><span class="keyword">import</span> sklearn <span class="comment"># 머신러닝</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 버전 확인</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;pandas version :&quot;</span>, pd.__version__)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;numpy version :&quot;</span>, np.__version__)</span><br><span class="line"><span class="comment"># matplotlib</span></span><br><span class="line"><span class="comment"># sklearn</span></span><br><span class="line"><span class="comment"># seaborn</span></span><br></pre></td></tr></table></figure>

<pre><code>pandas version : 1.3.5
numpy version : 1.21.6
</code></pre>
<h2 id="step-02-데이터-불러오기"><a href="#step-02-데이터-불러오기" class="headerlink" title="step 02. 데이터 불러오기"></a>step 02. 데이터 불러오기</h2><ul>
<li>데이터를 불러온다.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">DATA_PATH = <span class="string">&#x27;/content/drive/MyDrive/Colab Notebooks/Human_ai/lecture/bike/&#x27;</span></span><br><span class="line"></span><br><span class="line">train = pd.read_csv(DATA_PATH + <span class="string">&#x27;train.csv&#x27;</span>) <span class="comment"># 훈련 데이터</span></span><br><span class="line">test = pd.read_csv(DATA_PATH + <span class="string">&#x27;test.csv&#x27;</span>)   <span class="comment"># 테스트 데이터</span></span><br><span class="line">submission = pd.read_csv(DATA_PATH + <span class="string">&#x27;sampleSubmission.csv&#x27;</span>) <span class="comment"># 제출 샘플 데이터</span></span><br><span class="line"></span><br><span class="line">train.shape, test.shape, submission.shape</span><br></pre></td></tr></table></figure>




<pre><code>((10886, 12), (6493, 9), (6493, 2))
</code></pre>
<h2 id="step-03-데이터-확인하기"><a href="#step-03-데이터-확인하기" class="headerlink" title="step 03. 데이터 확인하기"></a>step 03. 데이터 확인하기</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">train.info()</span><br></pre></td></tr></table></figure>

<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 10886 entries, 0 to 10885
Data columns (total 12 columns):
 #   Column      Non-Null Count  Dtype  
---  ------      --------------  -----  
 0   datetime    10886 non-null  object 
 1   season      10886 non-null  int64  
 2   holiday     10886 non-null  int64  
 3   workingday  10886 non-null  int64  
 4   weather     10886 non-null  int64  
 5   temp        10886 non-null  float64
 6   atemp       10886 non-null  float64
 7   humidity    10886 non-null  int64  
 8   windspeed   10886 non-null  float64
 9   casual      10886 non-null  int64  
 10  registered  10886 non-null  int64  
 11  count       10886 non-null  int64  
dtypes: float64(3), int64(8), object(1)
memory usage: 1020.7+ KB
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">test.info()</span><br></pre></td></tr></table></figure>

<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 6493 entries, 0 to 6492
Data columns (total 9 columns):
 #   Column      Non-Null Count  Dtype  
---  ------      --------------  -----  
 0   datetime    6493 non-null   object 
 1   season      6493 non-null   int64  
 2   holiday     6493 non-null   int64  
 3   workingday  6493 non-null   int64  
 4   weather     6493 non-null   int64  
 5   temp        6493 non-null   float64
 6   atemp       6493 non-null   float64
 7   humidity    6493 non-null   int64  
 8   windspeed   6493 non-null   float64
dtypes: float64(3), int64(5), object(1)
memory usage: 456.7+ KB
</code></pre>
<ul>
<li>현재 판단으로는 결측치가 없어 보임.</li>
</ul>
<h2 id="step-03-탐색적-자료-분석"><a href="#step-03-탐색적-자료-분석" class="headerlink" title="step 03. 탐색적 자료 분석"></a>step 03. 탐색적 자료 분석</h2><ul>
<li>시각화</li>
<li>날짜 기반</li>
<li>train 다이렉트로 변화를 주면 전처리 시 헷갈림</li>
<li>복제본 뜬다. (탐색적 자료 분석)</li>
<li>데이터 셋 매우 작음<ul>
<li>전체를 다 써도 큰 상관 없음</li>
<li>전체 데이터에서 일부 샘플링 함</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">temp_df = train.copy()</span><br><span class="line">temp_df.info()</span><br></pre></td></tr></table></figure>

<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 10886 entries, 0 to 10885
Data columns (total 12 columns):
 #   Column      Non-Null Count  Dtype  
---  ------      --------------  -----  
 0   datetime    10886 non-null  object 
 1   season      10886 non-null  int64  
 2   holiday     10886 non-null  int64  
 3   workingday  10886 non-null  int64  
 4   weather     10886 non-null  int64  
 5   temp        10886 non-null  float64
 6   atemp       10886 non-null  float64
 7   humidity    10886 non-null  int64  
 8   windspeed   10886 non-null  float64
 9   casual      10886 non-null  int64  
 10  registered  10886 non-null  int64  
 11  count       10886 non-null  int64  
dtypes: float64(3), int64(8), object(1)
memory usage: 1020.7+ KB
</code></pre>
<ul>
<li>시각화를 위한 날짜 데이터 처리</li>
<li>연도, 월, 일자, 시간, 분, 초</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">temp_df[<span class="string">&#x27;datetime&#x27;</span>][:<span class="number">10</span>]</span><br></pre></td></tr></table></figure>




<pre><code>0    2011-01-01 00:00:00
1    2011-01-01 01:00:00
2    2011-01-01 02:00:00
3    2011-01-01 03:00:00
4    2011-01-01 04:00:00
5    2011-01-01 05:00:00
6    2011-01-01 06:00:00
7    2011-01-01 07:00:00
8    2011-01-01 08:00:00
9    2011-01-01 09:00:00
Name: datetime, dtype: object
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(temp_df[<span class="string">&#x27;datetime&#x27;</span>][<span class="number">0</span>].split()[<span class="number">1</span>])</span><br><span class="line"><span class="built_in">print</span>(temp_df[<span class="string">&#x27;datetime&#x27;</span>][<span class="number">100</span>].split()[<span class="number">0</span>].split(<span class="string">&#x27;-&#x27;</span>)[<span class="number">2</span>])</span><br></pre></td></tr></table></figure>

<pre><code>00:00:00
05
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">year = temp_df[<span class="string">&#x27;datetime&#x27;</span>][<span class="number">100</span>].split()[<span class="number">0</span>].split(<span class="string">&#x27;-&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">month = temp_df[<span class="string">&#x27;datetime&#x27;</span>][<span class="number">100</span>].split()[<span class="number">0</span>].split(<span class="string">&#x27;-&#x27;</span>)[<span class="number">1</span>]</span><br><span class="line">day = temp_df[<span class="string">&#x27;datetime&#x27;</span>][<span class="number">100</span>].split()[<span class="number">0</span>].split(<span class="string">&#x27;-&#x27;</span>)[<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(year, month, day)</span><br></pre></td></tr></table></figure>

<pre><code>2011 01 05
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">hour = temp_df[<span class="string">&#x27;datetime&#x27;</span>][<span class="number">2</span>].split()[<span class="number">1</span>].split(<span class="string">&#x27;:&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">minutes = temp_df[<span class="string">&#x27;datetime&#x27;</span>][<span class="number">2</span>].split()[<span class="number">1</span>].split(<span class="string">&#x27;:&#x27;</span>)[<span class="number">1</span>]</span><br><span class="line">seconds = temp_df[<span class="string">&#x27;datetime&#x27;</span>][<span class="number">2</span>].split()[<span class="number">1</span>].split(<span class="string">&#x27;:&#x27;</span>)[<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">hour, minutes, seconds</span><br></pre></td></tr></table></figure>




<pre><code>(&#39;02&#39;, &#39;00&#39;, &#39;00&#39;)
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">temp_df[<span class="string">&#x27;datetime&#x27;</span>][<span class="number">0</span>].split()[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>




<pre><code>&#39;2011-01-01&#39;
</code></pre>
<ul>
<li>시간 데이터 전처리 방법론 1.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time </span><br><span class="line"><span class="keyword">import</span> datetime </span><br><span class="line"></span><br><span class="line"><span class="comment"># 시간 테스트 </span></span><br><span class="line">start_time = time.time()</span><br><span class="line"></span><br><span class="line">temp_df[<span class="string">&#x27;date&#x27;</span>] = temp_df[<span class="string">&#x27;datetime&#x27;</span>].apply(<span class="keyword">lambda</span> x : x.split()[<span class="number">0</span>])</span><br><span class="line">temp_df[<span class="string">&#x27;year&#x27;</span>] = temp_df[<span class="string">&#x27;datetime&#x27;</span>].apply(<span class="keyword">lambda</span> x : x.split()[<span class="number">0</span>].split(<span class="string">&#x27;-&#x27;</span>)[<span class="number">0</span>])</span><br><span class="line">temp_df[<span class="string">&#x27;month&#x27;</span>] = temp_df[<span class="string">&#x27;datetime&#x27;</span>].apply(<span class="keyword">lambda</span> x : x.split()[<span class="number">0</span>].split(<span class="string">&#x27;-&#x27;</span>)[<span class="number">1</span>])</span><br><span class="line">temp_df[<span class="string">&#x27;day&#x27;</span>] = temp_df[<span class="string">&#x27;datetime&#x27;</span>].apply(<span class="keyword">lambda</span> x : x.split()[<span class="number">0</span>].split(<span class="string">&#x27;-&#x27;</span>)[<span class="number">2</span>])</span><br><span class="line">temp_df[<span class="string">&#x27;hour&#x27;</span>] = temp_df[<span class="string">&#x27;datetime&#x27;</span>].apply(<span class="keyword">lambda</span> x : x.split()[<span class="number">1</span>].split(<span class="string">&#x27;:&#x27;</span>)[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">end_time = time.time() </span><br><span class="line">lambda_ctime = end_time - start_time</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;실행시간 (second) -&gt; &quot;</span>, np.<span class="built_in">round</span>(lambda_ctime, <span class="number">3</span>))</span><br><span class="line">temp_df[[<span class="string">&#x27;datetime&#x27;</span>, <span class="string">&#x27;year&#x27;</span>, <span class="string">&#x27;month&#x27;</span>, <span class="string">&#x27;day&#x27;</span>, <span class="string">&#x27;hour&#x27;</span>]]</span><br></pre></td></tr></table></figure>

<pre><code>실행시간 (second) -&gt;  0.043
</code></pre>
  <div id="df-4e800a1d-593a-452f-8f87-30e7464779ba">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>datetime</th>
      <th>year</th>
      <th>month</th>
      <th>day</th>
      <th>hour</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2011-01-01 00:00:00</td>
      <td>2011</td>
      <td>01</td>
      <td>01</td>
      <td>00</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2011-01-01 01:00:00</td>
      <td>2011</td>
      <td>01</td>
      <td>01</td>
      <td>01</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2011-01-01 02:00:00</td>
      <td>2011</td>
      <td>01</td>
      <td>01</td>
      <td>02</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2011-01-01 03:00:00</td>
      <td>2011</td>
      <td>01</td>
      <td>01</td>
      <td>03</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2011-01-01 04:00:00</td>
      <td>2011</td>
      <td>01</td>
      <td>01</td>
      <td>04</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>10881</th>
      <td>2012-12-19 19:00:00</td>
      <td>2012</td>
      <td>12</td>
      <td>19</td>
      <td>19</td>
    </tr>
    <tr>
      <th>10882</th>
      <td>2012-12-19 20:00:00</td>
      <td>2012</td>
      <td>12</td>
      <td>19</td>
      <td>20</td>
    </tr>
    <tr>
      <th>10883</th>
      <td>2012-12-19 21:00:00</td>
      <td>2012</td>
      <td>12</td>
      <td>19</td>
      <td>21</td>
    </tr>
    <tr>
      <th>10884</th>
      <td>2012-12-19 22:00:00</td>
      <td>2012</td>
      <td>12</td>
      <td>19</td>
      <td>22</td>
    </tr>
    <tr>
      <th>10885</th>
      <td>2012-12-19 23:00:00</td>
      <td>2012</td>
      <td>12</td>
      <td>19</td>
      <td>23</td>
    </tr>
  </tbody>
</table>
<p>10886 rows × 5 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-4e800a1d-593a-452f-8f87-30e7464779ba')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

<p>  &lt;svg xmlns&#x3D;”<a target="_blank" rel="noopener" href="http://www.w3.org/2000/svg&quot;">http://www.w3.org/2000/svg&quot;</a> height&#x3D;”24px”viewBox&#x3D;”0 0 24 24”<br>       width&#x3D;”24px”&gt;<br>    <path d="M0 0h24v24H0V0z" fill="none"/><br>    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/><br>  </svg><br>      </button></p>
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

<pre><code>  &lt;script&gt;
    const buttonEl =
      document.querySelector(&#39;#df-4e800a1d-593a-452f-8f87-30e7464779ba button.colab-df-convert&#39;);
    buttonEl.style.display =
      google.colab.kernel.accessAllowed ? &#39;block&#39; : &#39;none&#39;;

    async function convertToInteractive(key) &#123;
      const element = document.querySelector(&#39;#df-4e800a1d-593a-452f-8f87-30e7464779ba&#39;);
      const dataTable =
        await google.colab.kernel.invokeFunction(&#39;convertToInteractive&#39;,
                                                 [key], &#123;&#125;);
      if (!dataTable) return;

      const docLinkHtml = &#39;Like what you see? Visit the &#39; +
        &#39;&lt;a target=&quot;_blank&quot; href=https://colab.research.google.com/notebooks/data_table.ipynb&gt;data table notebook&lt;/a&gt;&#39;
        + &#39; to learn more about interactive tables.&#39;;
      element.innerHTML = &#39;&#39;;
      dataTable[&#39;output_type&#39;] = &#39;display_data&#39;;
      await google.colab.output.renderOutput(dataTable, element);
      const docLink = document.createElement(&#39;div&#39;);
      docLink.innerHTML = docLinkHtml;
      element.appendChild(docLink);
    &#125;
  &lt;/script&gt;
&lt;/div&gt;
</code></pre>
  </div>




<ul>
<li>시간 데이터 방법론 전처리 2</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">temp_df[<span class="string">&#x27;date&#x27;</span>] = pd.to_datetime(temp_df[<span class="string">&#x27;datetime&#x27;</span>])</span><br><span class="line">temp_df[<span class="string">&#x27;year&#x27;</span>] = temp_df[<span class="string">&#x27;date&#x27;</span>].dt.year</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time </span><br><span class="line"><span class="keyword">import</span> datetime </span><br><span class="line"></span><br><span class="line"><span class="comment"># 시간 테스트 </span></span><br><span class="line">start_time = time.time()</span><br><span class="line"></span><br><span class="line">temp_df[<span class="string">&#x27;date&#x27;</span>] = pd.to_datetime(temp_df[<span class="string">&#x27;datetime&#x27;</span>])</span><br><span class="line">temp_df[<span class="string">&#x27;year&#x27;</span>] = temp_df[<span class="string">&#x27;date&#x27;</span>].dt.year</span><br><span class="line">temp_df[<span class="string">&#x27;month&#x27;</span>] = temp_df[<span class="string">&#x27;date&#x27;</span>].dt.month</span><br><span class="line">temp_df[<span class="string">&#x27;day&#x27;</span>] = temp_df[<span class="string">&#x27;date&#x27;</span>].dt.day</span><br><span class="line">temp_df[<span class="string">&#x27;hour&#x27;</span>] = temp_df[<span class="string">&#x27;date&#x27;</span>].dt.hour</span><br><span class="line"></span><br><span class="line">end_time = time.time() </span><br><span class="line">dt_ctime = end_time - start_time</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;실행시간 (second) -&gt; &quot;</span>, np.<span class="built_in">round</span>(dt_ctime, <span class="number">3</span>))</span><br><span class="line"></span><br><span class="line">temp_df[[<span class="string">&#x27;datetime&#x27;</span>, <span class="string">&#x27;year&#x27;</span>, <span class="string">&#x27;month&#x27;</span>, <span class="string">&#x27;day&#x27;</span>, <span class="string">&#x27;hour&#x27;</span>]]</span><br></pre></td></tr></table></figure>

<pre><code>실행시간 (second) -&gt;  0.013
</code></pre>
  <div id="df-60e2ba36-d212-44ef-bb9b-c70818ecf681">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>datetime</th>
      <th>year</th>
      <th>month</th>
      <th>day</th>
      <th>hour</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2011-01-01 00:00:00</td>
      <td>2011</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2011-01-01 01:00:00</td>
      <td>2011</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2011-01-01 02:00:00</td>
      <td>2011</td>
      <td>1</td>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2011-01-01 03:00:00</td>
      <td>2011</td>
      <td>1</td>
      <td>1</td>
      <td>3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2011-01-01 04:00:00</td>
      <td>2011</td>
      <td>1</td>
      <td>1</td>
      <td>4</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>10881</th>
      <td>2012-12-19 19:00:00</td>
      <td>2012</td>
      <td>12</td>
      <td>19</td>
      <td>19</td>
    </tr>
    <tr>
      <th>10882</th>
      <td>2012-12-19 20:00:00</td>
      <td>2012</td>
      <td>12</td>
      <td>19</td>
      <td>20</td>
    </tr>
    <tr>
      <th>10883</th>
      <td>2012-12-19 21:00:00</td>
      <td>2012</td>
      <td>12</td>
      <td>19</td>
      <td>21</td>
    </tr>
    <tr>
      <th>10884</th>
      <td>2012-12-19 22:00:00</td>
      <td>2012</td>
      <td>12</td>
      <td>19</td>
      <td>22</td>
    </tr>
    <tr>
      <th>10885</th>
      <td>2012-12-19 23:00:00</td>
      <td>2012</td>
      <td>12</td>
      <td>19</td>
      <td>23</td>
    </tr>
  </tbody>
</table>
<p>10886 rows × 5 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-60e2ba36-d212-44ef-bb9b-c70818ecf681')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

<p>  &lt;svg xmlns&#x3D;”<a target="_blank" rel="noopener" href="http://www.w3.org/2000/svg&quot;">http://www.w3.org/2000/svg&quot;</a> height&#x3D;”24px”viewBox&#x3D;”0 0 24 24”<br>       width&#x3D;”24px”&gt;<br>    <path d="M0 0h24v24H0V0z" fill="none"/><br>    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/><br>  </svg><br>      </button></p>
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

<pre><code>  &lt;script&gt;
    const buttonEl =
      document.querySelector(&#39;#df-60e2ba36-d212-44ef-bb9b-c70818ecf681 button.colab-df-convert&#39;);
    buttonEl.style.display =
      google.colab.kernel.accessAllowed ? &#39;block&#39; : &#39;none&#39;;

    async function convertToInteractive(key) &#123;
      const element = document.querySelector(&#39;#df-60e2ba36-d212-44ef-bb9b-c70818ecf681&#39;);
      const dataTable =
        await google.colab.kernel.invokeFunction(&#39;convertToInteractive&#39;,
                                                 [key], &#123;&#125;);
      if (!dataTable) return;

      const docLinkHtml = &#39;Like what you see? Visit the &#39; +
        &#39;&lt;a target=&quot;_blank&quot; href=https://colab.research.google.com/notebooks/data_table.ipynb&gt;data table notebook&lt;/a&gt;&#39;
        + &#39; to learn more about interactive tables.&#39;;
      element.innerHTML = &#39;&#39;;
      dataTable[&#39;output_type&#39;] = &#39;display_data&#39;;
      await google.colab.output.renderOutput(dataTable, element);
      const docLink = document.createElement(&#39;div&#39;);
      docLink.innerHTML = docLinkHtml;
      element.appendChild(docLink);
    &#125;
  &lt;/script&gt;
&lt;/div&gt;
</code></pre>
  </div>





<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">temp_df[<span class="string">&#x27;date&#x27;</span>]</span><br></pre></td></tr></table></figure>




<pre><code>0       2011-01-01 00:00:00
1       2011-01-01 01:00:00
2       2011-01-01 02:00:00
3       2011-01-01 03:00:00
4       2011-01-01 04:00:00
                ...        
10881   2012-12-19 19:00:00
10882   2012-12-19 20:00:00
10883   2012-12-19 21:00:00
10884   2012-12-19 22:00:00
10885   2012-12-19 23:00:00
Name: date, Length: 10886, dtype: datetime64[ns]
</code></pre>
<ul>
<li>요일 추출하기</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">temp_df[<span class="string">&#x27;date&#x27;</span>]</span><br></pre></td></tr></table></figure>




<pre><code>0       2011-01-01 00:00:00
1       2011-01-01 01:00:00
2       2011-01-01 02:00:00
3       2011-01-01 03:00:00
4       2011-01-01 04:00:00
                ...        
10881   2012-12-19 19:00:00
10882   2012-12-19 20:00:00
10883   2012-12-19 21:00:00
10884   2012-12-19 22:00:00
10885   2012-12-19 23:00:00
Name: date, Length: 10886, dtype: datetime64[ns]
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">temp_df[<span class="string">&#x27;weekday&#x27;</span>] = temp_df[<span class="string">&#x27;date&#x27;</span>].dt.day_name()</span><br><span class="line">temp_df[<span class="string">&#x27;weekday&#x27;</span>]</span><br></pre></td></tr></table></figure>




<pre><code>0         Saturday
1         Saturday
2         Saturday
3         Saturday
4         Saturday
           ...    
10881    Wednesday
10882    Wednesday
10883    Wednesday
10884    Wednesday
10885    Wednesday
Name: weekday, Length: 10886, dtype: object
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">temp_df[<span class="string">&#x27;season&#x27;</span>] = temp_df[<span class="string">&#x27;season&#x27;</span>].<span class="built_in">map</span>(&#123;</span><br><span class="line">    <span class="number">1</span>: <span class="string">&#x27;Spring&#x27;</span>, </span><br><span class="line">    <span class="number">2</span>: <span class="string">&#x27;Summer&#x27;</span>, </span><br><span class="line">    <span class="number">3</span>: <span class="string">&#x27;Fall&#x27;</span>, </span><br><span class="line">    <span class="number">4</span>: <span class="string">&#x27;Winter&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">temp_df[<span class="string">&#x27;season&#x27;</span>]</span><br></pre></td></tr></table></figure>




<pre><code>0        Spring
1        Spring
2        Spring
3        Spring
4        Spring
          ...  
10881    Winter
10882    Winter
10883    Winter
10884    Winter
10885    Winter
Name: season, Length: 10886, dtype: object
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">temp_df[<span class="string">&#x27;weather&#x27;</span>] = temp_df[<span class="string">&#x27;weather&#x27;</span>].<span class="built_in">map</span>(&#123;</span><br><span class="line">    <span class="number">1</span> : <span class="string">&#x27;Clear&#x27;</span>, </span><br><span class="line">    <span class="number">2</span> : <span class="string">&#x27;Few clouds&#x27;</span>, </span><br><span class="line">    <span class="number">3</span> : <span class="string">&#x27;Light Snow, Rain&#x27;</span>, </span><br><span class="line">    <span class="number">4</span> : <span class="string">&#x27;Heavy Snow, Rain&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">temp_df[<span class="string">&#x27;weather&#x27;</span>]</span><br></pre></td></tr></table></figure>




<pre><code>0        Clear
1        Clear
2        Clear
3        Clear
4        Clear
         ...  
10881    Clear
10882    Clear
10883    Clear
10884    Clear
10885    Clear
Name: weather, Length: 10886, dtype: object
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">temp_df.head()</span><br></pre></td></tr></table></figure>





  <div id="df-97103711-b9e3-40fa-a0bb-5e1055da6831">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>datetime</th>
      <th>season</th>
      <th>holiday</th>
      <th>workingday</th>
      <th>weather</th>
      <th>temp</th>
      <th>atemp</th>
      <th>humidity</th>
      <th>windspeed</th>
      <th>casual</th>
      <th>registered</th>
      <th>count</th>
      <th>date</th>
      <th>year</th>
      <th>month</th>
      <th>day</th>
      <th>hour</th>
      <th>weekday</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2011-01-01 00:00:00</td>
      <td>Spring</td>
      <td>0</td>
      <td>0</td>
      <td>Clear</td>
      <td>9.84</td>
      <td>14.395</td>
      <td>81</td>
      <td>0.0</td>
      <td>3</td>
      <td>13</td>
      <td>16</td>
      <td>2011-01-01 00:00:00</td>
      <td>2011</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>Saturday</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2011-01-01 01:00:00</td>
      <td>Spring</td>
      <td>0</td>
      <td>0</td>
      <td>Clear</td>
      <td>9.02</td>
      <td>13.635</td>
      <td>80</td>
      <td>0.0</td>
      <td>8</td>
      <td>32</td>
      <td>40</td>
      <td>2011-01-01 01:00:00</td>
      <td>2011</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>Saturday</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2011-01-01 02:00:00</td>
      <td>Spring</td>
      <td>0</td>
      <td>0</td>
      <td>Clear</td>
      <td>9.02</td>
      <td>13.635</td>
      <td>80</td>
      <td>0.0</td>
      <td>5</td>
      <td>27</td>
      <td>32</td>
      <td>2011-01-01 02:00:00</td>
      <td>2011</td>
      <td>1</td>
      <td>1</td>
      <td>2</td>
      <td>Saturday</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2011-01-01 03:00:00</td>
      <td>Spring</td>
      <td>0</td>
      <td>0</td>
      <td>Clear</td>
      <td>9.84</td>
      <td>14.395</td>
      <td>75</td>
      <td>0.0</td>
      <td>3</td>
      <td>10</td>
      <td>13</td>
      <td>2011-01-01 03:00:00</td>
      <td>2011</td>
      <td>1</td>
      <td>1</td>
      <td>3</td>
      <td>Saturday</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2011-01-01 04:00:00</td>
      <td>Spring</td>
      <td>0</td>
      <td>0</td>
      <td>Clear</td>
      <td>9.84</td>
      <td>14.395</td>
      <td>75</td>
      <td>0.0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>2011-01-01 04:00:00</td>
      <td>2011</td>
      <td>1</td>
      <td>1</td>
      <td>4</td>
      <td>Saturday</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-97103711-b9e3-40fa-a0bb-5e1055da6831')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

<p>  &lt;svg xmlns&#x3D;”<a target="_blank" rel="noopener" href="http://www.w3.org/2000/svg&quot;">http://www.w3.org/2000/svg&quot;</a> height&#x3D;”24px”viewBox&#x3D;”0 0 24 24”<br>       width&#x3D;”24px”&gt;<br>    <path d="M0 0h24v24H0V0z" fill="none"/><br>    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/><br>  </svg><br>      </button></p>
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

<pre><code>  &lt;script&gt;
    const buttonEl =
      document.querySelector(&#39;#df-97103711-b9e3-40fa-a0bb-5e1055da6831 button.colab-df-convert&#39;);
    buttonEl.style.display =
      google.colab.kernel.accessAllowed ? &#39;block&#39; : &#39;none&#39;;

    async function convertToInteractive(key) &#123;
      const element = document.querySelector(&#39;#df-97103711-b9e3-40fa-a0bb-5e1055da6831&#39;);
      const dataTable =
        await google.colab.kernel.invokeFunction(&#39;convertToInteractive&#39;,
                                                 [key], &#123;&#125;);
      if (!dataTable) return;

      const docLinkHtml = &#39;Like what you see? Visit the &#39; +
        &#39;&lt;a target=&quot;_blank&quot; href=https://colab.research.google.com/notebooks/data_table.ipynb&gt;data table notebook&lt;/a&gt;&#39;
        + &#39; to learn more about interactive tables.&#39;;
      element.innerHTML = &#39;&#39;;
      dataTable[&#39;output_type&#39;] = &#39;display_data&#39;;
      await google.colab.output.renderOutput(dataTable, element);
      const docLink = document.createElement(&#39;div&#39;);
      docLink.innerHTML = docLinkHtml;
      element.appendChild(docLink);
    &#125;
  &lt;/script&gt;
&lt;/div&gt;
</code></pre>
  </div>




<h2 id="step-04-데이터-시각화"><a href="#step-04-데이터-시각화" class="headerlink" title="step 04. 데이터 시각화"></a>step 04. 데이터 시각화</h2><ul>
<li>수치를 예측하는 대회</li>
<li>종속 변수를 시각화 해야 함. </li>
<li>분포 확인 후, 로그변환을 줄지 안줄지 결정 해야 함.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fig, ax = plt.subplots(nrows = <span class="number">1</span>, ncols = <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">sns.histplot(train[<span class="string">&#x27;count&#x27;</span>], ax = ax[<span class="number">0</span>]) </span><br><span class="line">sns.histplot(np.log(train[<span class="string">&#x27;count&#x27;</span>]), ax = ax[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 옵션 제목</span></span><br><span class="line">ax[<span class="number">0</span>].set_title(<span class="string">&#x27;Normal Graph&#x27;</span>)</span><br><span class="line">ax[<span class="number">1</span>].set_title(<span class="string">&quot;Log Transformed Graph&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p><img src="/images/day0708/output_31_0.png" alt="png"></p>
<ul>
<li>막대 그래프<ul>
<li>year, count </li>
<li>month, count</li>
<li>day, count </li>
<li>hour, count</li>
</ul>
</li>
<li>각 그래프의 타이틀 추가</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">fig, ax = plt.subplots(nrows = <span class="number">2</span>, ncols = <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## 1단계 : 전체 그래프 기본 설정</span></span><br><span class="line"><span class="comment"># 그래프 사이 간격</span></span><br><span class="line">fig.tight_layout()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 전체 그래프 사이즈 관리</span></span><br><span class="line">fig.set_size_inches(<span class="number">10</span>, <span class="number">9</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## 2단계 :  각 개별 그래프 입력</span></span><br><span class="line">sns.barplot(x = <span class="string">&#x27;year&#x27;</span>, y = <span class="string">&#x27;count&#x27;</span>, data = temp_df, ax=ax[<span class="number">0</span>,<span class="number">0</span>])</span><br><span class="line">sns.barplot(x = <span class="string">&#x27;month&#x27;</span>,y = <span class="string">&#x27;count&#x27;</span>, data = temp_df, ax=ax[<span class="number">0</span>,<span class="number">1</span>])</span><br><span class="line">sns.barplot(x = <span class="string">&#x27;day&#x27;</span>, y = <span class="string">&#x27;count&#x27;</span>, data = temp_df, ax=ax[<span class="number">1</span>,<span class="number">0</span>])</span><br><span class="line">sns.barplot(x = <span class="string">&#x27;hour&#x27;</span>, y = <span class="string">&#x27;count&#x27;</span>, data = temp_df, ax=ax[<span class="number">1</span>,<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">## 3단계 : 디테일 옵션</span></span><br><span class="line">ax[<span class="number">0</span>, <span class="number">0</span>].set_title(<span class="string">&quot;Rental Amounts by Year&quot;</span>)</span><br><span class="line">ax[<span class="number">0</span>, <span class="number">1</span>].set_title(<span class="string">&quot;Rental Amounts by month&quot;</span>)</span><br><span class="line">ax[<span class="number">1</span>, <span class="number">0</span>].set_title(<span class="string">&quot;Rental Amounts by day&quot;</span>)</span><br><span class="line">ax[<span class="number">1</span>, <span class="number">1</span>].set_title(<span class="string">&quot;Rental Amounts by hour&quot;</span>)</span><br><span class="line"></span><br><span class="line">ax[<span class="number">0</span>, <span class="number">0</span>].tick_params(axis = <span class="string">&#x27;x&#x27;</span>, labelrotation=<span class="number">90</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p><img src="/images/day0708/output_33_0.png" alt="png"></p>
<ul>
<li>boxplot<ul>
<li>season, count</li>
<li>weather, count</li>
<li>holiday, count</li>
<li>workingday, count</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">fig, ax = plt.subplots(nrows = <span class="number">2</span>, ncols = <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## 1단계 : 전체 그래프 기본 설정</span></span><br><span class="line"><span class="comment"># 그래프 사이 간격</span></span><br><span class="line">fig.tight_layout()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 전체 그래프 사이즈 관리</span></span><br><span class="line">fig.set_size_inches(<span class="number">10</span>, <span class="number">9</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## 2단계 :  각 개별 그래프 입력</span></span><br><span class="line">sns.boxplot(x = <span class="string">&#x27;season&#x27;</span>, y = <span class="string">&#x27;count&#x27;</span>, data = temp_df, ax=ax[<span class="number">0</span>,<span class="number">0</span>])</span><br><span class="line">sns.boxplot(x = <span class="string">&#x27;weather&#x27;</span>,y = <span class="string">&#x27;count&#x27;</span>, data = temp_df, ax=ax[<span class="number">0</span>,<span class="number">1</span>])</span><br><span class="line">sns.boxplot(x = <span class="string">&#x27;holiday&#x27;</span>, y = <span class="string">&#x27;count&#x27;</span>, data = temp_df, ax=ax[<span class="number">1</span>,<span class="number">0</span>])</span><br><span class="line">sns.boxplot(x = <span class="string">&#x27;workingday&#x27;</span>, y = <span class="string">&#x27;count&#x27;</span>, data = temp_df, ax=ax[<span class="number">1</span>,<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">## 3단계 : 디테일 옵션</span></span><br><span class="line">ax[<span class="number">0</span>, <span class="number">0</span>].set_title(<span class="string">&quot;Box Plot On Count Across Season&quot;</span>)</span><br><span class="line">ax[<span class="number">0</span>, <span class="number">1</span>].set_title(<span class="string">&quot;Rental Amounts by month&quot;</span>)</span><br><span class="line">ax[<span class="number">1</span>, <span class="number">0</span>].set_title(<span class="string">&quot;Rental Amounts by day&quot;</span>)</span><br><span class="line">ax[<span class="number">1</span>, <span class="number">1</span>].set_title(<span class="string">&quot;Rental Amounts by hour&quot;</span>)</span><br><span class="line"></span><br><span class="line">ax[<span class="number">0</span>, <span class="number">1</span>].tick_params(axis = <span class="string">&#x27;x&#x27;</span>, labelrotation=<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p><img src="/images/day0708/output_35_0.png" alt="png"></p>
<ul>
<li>포인트 플롯</li>
<li>5개의 행 그래프 작성<ul>
<li>workingday, holiday, weekday, season, weather</li>
</ul>
</li>
<li>5개의 그래프를 한 이미지로 그리세요.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fig, ax = plt.subplots(nrows = <span class="number">5</span>)</span><br><span class="line">fig.set_size_inches(<span class="number">12</span>, <span class="number">18</span>)</span><br><span class="line"></span><br><span class="line">sns.pointplot(x = <span class="string">&#x27;hour&#x27;</span>, y = <span class="string">&#x27;count&#x27;</span>, hue = <span class="string">&#x27;workingday&#x27;</span>, data = temp_df, ax = ax[<span class="number">0</span>])</span><br><span class="line">sns.pointplot(x = <span class="string">&#x27;hour&#x27;</span>, y = <span class="string">&#x27;count&#x27;</span>, hue = <span class="string">&#x27;holiday&#x27;</span>, data = temp_df, ax = ax[<span class="number">1</span>])</span><br><span class="line">sns.pointplot(x = <span class="string">&#x27;hour&#x27;</span>, y = <span class="string">&#x27;count&#x27;</span>, hue = <span class="string">&#x27;weekday&#x27;</span>, data = temp_df, ax = ax[<span class="number">2</span>])</span><br><span class="line">sns.pointplot(x = <span class="string">&#x27;hour&#x27;</span>, y = <span class="string">&#x27;count&#x27;</span>, hue = <span class="string">&#x27;season&#x27;</span>, data = temp_df, ax = ax[<span class="number">3</span>])</span><br><span class="line">sns.pointplot(x = <span class="string">&#x27;hour&#x27;</span>, y = <span class="string">&#x27;count&#x27;</span>, hue = <span class="string">&#x27;weather&#x27;</span>, data = temp_df, ax = ax[<span class="number">4</span>])</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p><img src="/images/day0708/output_37_0.png" alt="png"></p>
<ul>
<li>회귀선을 포함한 산점도 그래프<ul>
<li>x, y 모두 수치형 그래프여야 함. </li>
<li>연속형 수치형 데이터야 함.</li>
</ul>
</li>
<li>총 4개의 그래프가 나와야 함.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">temp_df.info()</span><br></pre></td></tr></table></figure>

<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 10886 entries, 0 to 10885
Data columns (total 18 columns):
 #   Column      Non-Null Count  Dtype         
---  ------      --------------  -----         
 0   datetime    10886 non-null  object        
 1   season      10886 non-null  object        
 2   holiday     10886 non-null  int64         
 3   workingday  10886 non-null  int64         
 4   weather     10886 non-null  object        
 5   temp        10886 non-null  float64       
 6   atemp       10886 non-null  float64       
 7   humidity    10886 non-null  int64         
 8   windspeed   10886 non-null  float64       
 9   casual      10886 non-null  int64         
 10  registered  10886 non-null  int64         
 11  count       10886 non-null  int64         
 12  date        10886 non-null  datetime64[ns]
 13  year        10886 non-null  int64         
 14  month       10886 non-null  int64         
 15  day         10886 non-null  int64         
 16  hour        10886 non-null  int64         
 17  weekday     10886 non-null  object        
dtypes: datetime64[ns](1), float64(3), int64(10), object(4)
memory usage: 1.5+ MB
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">temp_df[<span class="string">&#x27;windspeed&#x27;</span>].value_counts()</span><br></pre></td></tr></table></figure>




<pre><code>0.0000     1313
8.9981     1120
11.0014    1057
12.9980    1042
7.0015     1034
15.0013     961
6.0032      872
16.9979     824
19.0012     676
19.9995     492
22.0028     372
23.9994     274
26.0027     235
27.9993     187
30.0026     111
31.0009      89
32.9975      80
35.0008      58
39.0007      27
36.9974      22
43.0006      12
40.9973      11
43.9989       8
46.0022       3
56.9969       2
47.9988       2
51.9987       1
50.0021       1
Name: windspeed, dtype: int64
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fig, ax = plt.subplots(nrows=<span class="number">2</span>, ncols =<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">fig.tight_layout()</span><br><span class="line"></span><br><span class="line">sns.regplot(x =<span class="string">&#x27;temp&#x27;</span>, y =<span class="string">&#x27;count&#x27;</span>, data = temp_df, scatter_kws = &#123;<span class="string">&#x27;alpha&#x27;</span> : <span class="number">0.2</span>&#125;, line_kws = &#123;<span class="string">&#x27;color&#x27;</span> : <span class="string">&#x27;blue&#x27;</span>&#125;, ax = ax[<span class="number">0</span>, <span class="number">0</span>])</span><br><span class="line">sns.regplot(x =<span class="string">&#x27;atemp&#x27;</span>, y =<span class="string">&#x27;count&#x27;</span>, data = temp_df, scatter_kws = &#123;<span class="string">&#x27;alpha&#x27;</span> : <span class="number">0.2</span>&#125;, line_kws = &#123;<span class="string">&#x27;color&#x27;</span> : <span class="string">&#x27;blue&#x27;</span>&#125;, ax = ax[<span class="number">0</span>, <span class="number">1</span>])</span><br><span class="line">sns.regplot(x =<span class="string">&#x27;humidity&#x27;</span>, y =<span class="string">&#x27;count&#x27;</span>, data = temp_df, scatter_kws = &#123;<span class="string">&#x27;alpha&#x27;</span> : <span class="number">0.2</span>&#125;, line_kws = &#123;<span class="string">&#x27;color&#x27;</span> : <span class="string">&#x27;blue&#x27;</span>&#125;, ax = ax[<span class="number">1</span>, <span class="number">0</span>])</span><br><span class="line">sns.regplot(x =<span class="string">&#x27;windspeed&#x27;</span>, y =<span class="string">&#x27;count&#x27;</span>, data = temp_df, scatter_kws = &#123;<span class="string">&#x27;alpha&#x27;</span> : <span class="number">0.2</span>&#125;, line_kws = &#123;<span class="string">&#x27;color&#x27;</span> : <span class="string">&#x27;blue&#x27;</span>&#125;, ax = ax[<span class="number">1</span>, <span class="number">1</span>])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p><img src="/images/day0708/output_41_0.png" alt="png"></p>
<ul>
<li>히트맵 그래프 그리기</li>
<li>상관계수 해석<ul>
<li>수치가 양수다 (양의 관계)</li>
<li>수치가 음수다 (음의 관계)</li>
<li>0~0.2 : 두 변수 사이의 상관관계는 없다. </li>
<li>0.2 ~ 1: 값이 커지면 커질수록 두 변수 간 상관관계는 크다.</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">corrMat = temp_df[[<span class="string">&#x27;temp&#x27;</span>, <span class="string">&#x27;atemp&#x27;</span>, <span class="string">&#x27;humidity&#x27;</span>, <span class="string">&#x27;windspeed&#x27;</span>, <span class="string">&#x27;count&#x27;</span>]].corr()</span><br><span class="line">corrMat</span><br></pre></td></tr></table></figure>





  <div id="df-85088303-7931-4007-8f20-6de2c39d6b03">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>temp</th>
      <th>atemp</th>
      <th>humidity</th>
      <th>windspeed</th>
      <th>count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>temp</th>
      <td>1.000000</td>
      <td>0.984948</td>
      <td>-0.064949</td>
      <td>-0.017852</td>
      <td>0.394454</td>
    </tr>
    <tr>
      <th>atemp</th>
      <td>0.984948</td>
      <td>1.000000</td>
      <td>-0.043536</td>
      <td>-0.057473</td>
      <td>0.389784</td>
    </tr>
    <tr>
      <th>humidity</th>
      <td>-0.064949</td>
      <td>-0.043536</td>
      <td>1.000000</td>
      <td>-0.318607</td>
      <td>-0.317371</td>
    </tr>
    <tr>
      <th>windspeed</th>
      <td>-0.017852</td>
      <td>-0.057473</td>
      <td>-0.318607</td>
      <td>1.000000</td>
      <td>0.101369</td>
    </tr>
    <tr>
      <th>count</th>
      <td>0.394454</td>
      <td>0.389784</td>
      <td>-0.317371</td>
      <td>0.101369</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-85088303-7931-4007-8f20-6de2c39d6b03')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

<p>  &lt;svg xmlns&#x3D;”<a target="_blank" rel="noopener" href="http://www.w3.org/2000/svg&quot;">http://www.w3.org/2000/svg&quot;</a> height&#x3D;”24px”viewBox&#x3D;”0 0 24 24”<br>       width&#x3D;”24px”&gt;<br>    <path d="M0 0h24v24H0V0z" fill="none"/><br>    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/><br>  </svg><br>      </button></p>
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

<pre><code>  &lt;script&gt;
    const buttonEl =
      document.querySelector(&#39;#df-85088303-7931-4007-8f20-6de2c39d6b03 button.colab-df-convert&#39;);
    buttonEl.style.display =
      google.colab.kernel.accessAllowed ? &#39;block&#39; : &#39;none&#39;;

    async function convertToInteractive(key) &#123;
      const element = document.querySelector(&#39;#df-85088303-7931-4007-8f20-6de2c39d6b03&#39;);
      const dataTable =
        await google.colab.kernel.invokeFunction(&#39;convertToInteractive&#39;,
                                                 [key], &#123;&#125;);
      if (!dataTable) return;

      const docLinkHtml = &#39;Like what you see? Visit the &#39; +
        &#39;&lt;a target=&quot;_blank&quot; href=https://colab.research.google.com/notebooks/data_table.ipynb&gt;data table notebook&lt;/a&gt;&#39;
        + &#39; to learn more about interactive tables.&#39;;
      element.innerHTML = &#39;&#39;;
      dataTable[&#39;output_type&#39;] = &#39;display_data&#39;;
      await google.colab.output.renderOutput(dataTable, element);
      const docLink = document.createElement(&#39;div&#39;);
      docLink.innerHTML = docLinkHtml;
      element.appendChild(docLink);
    &#125;
  &lt;/script&gt;
&lt;/div&gt;
</code></pre>
  </div>





<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.heatmap(corrMat, annot=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>




<pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f96ce4d4fd0&gt;
</code></pre>
<p><img src="/images/day0708/output_44_1.png" alt="png"></p>
<h2 id="데이터-전처리"><a href="#데이터-전처리" class="headerlink" title="데이터 전처리"></a>데이터 전처리</h2><ul>
<li>첫번째 : train 데이터의 causal, registered 컬럼 제거할 것임</li>
<li>두번째 : 날짜 데이터 처리, dt.month, 이렇게 할 것</li>
<li>세번째 : season 컬럼 처리 필요 (숫자를 문자로 바꾸자)<ul>
<li>인코딩 변환 (라벨인코딩, 원핫 인코딩)</li>
</ul>
</li>
<li>네번째 : weather 컬럼 처리 필요 (숫자를 문자로 바꾸자)<ul>
<li>인코딩 변환 (라벨인코딩, 원핫 인코딩)</li>
</ul>
</li>
<li>다섯번째 : month, day 컬럼 삭제 예정</li>
<li>여섯번째 : weather 4인 데이터는 삭제 (이상치)</li>
<li>일곱번째 : windspeed 컬럼 삭제 </li>
<li>여덟번째 : temp, atemp중 하나 삭제 (옵션)</li>
<li>마지막 : 모든 문자를 숫자로 인코딩 (원-핫 인코딩)</li>
</ul>
<h3 id="첫번째"><a href="#첫번째" class="headerlink" title="첫번째"></a>첫번째</h3><ul>
<li>train 데이터의 causal, registered 컬럼 제거</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">train.info()</span><br></pre></td></tr></table></figure>

<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 10886 entries, 0 to 10885
Data columns (total 12 columns):
 #   Column      Non-Null Count  Dtype  
---  ------      --------------  -----  
 0   datetime    10886 non-null  object 
 1   season      10886 non-null  int64  
 2   holiday     10886 non-null  int64  
 3   workingday  10886 non-null  int64  
 4   weather     10886 non-null  int64  
 5   temp        10886 non-null  float64
 6   atemp       10886 non-null  float64
 7   humidity    10886 non-null  int64  
 8   windspeed   10886 non-null  float64
 9   casual      10886 non-null  int64  
 10  registered  10886 non-null  int64  
 11  count       10886 non-null  int64  
dtypes: float64(3), int64(8), object(1)
memory usage: 1020.7+ KB
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">train = train.drop([<span class="string">&#x27;casual&#x27;</span>, <span class="string">&#x27;registered&#x27;</span>], axis = <span class="number">1</span>)</span><br><span class="line">train.shape, test.shape</span><br></pre></td></tr></table></figure>




<pre><code>((10886, 10), (6493, 9))
</code></pre>
<h2 id="weather-컬럼-지우기"><a href="#weather-컬럼-지우기" class="headerlink" title="weather 컬럼 지우기"></a>weather 컬럼 지우기</h2><ul>
<li>4인 데이터는 삭제</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">train = train[train[<span class="string">&#x27;weather&#x27;</span>] != <span class="number">4</span>].reset_index(drop=<span class="literal">True</span>)</span><br><span class="line">train.shape</span><br></pre></td></tr></table></figure>




<pre><code>(10885, 10)
</code></pre>
<h3 id="데이터-합치기"><a href="#데이터-합치기" class="headerlink" title="데이터 합치기"></a>데이터 합치기</h3><ul>
<li>train, test 데이터 합치기</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">all_data = pd.concat([train, test], ignore_index=<span class="literal">True</span>)</span><br><span class="line">all_data.info()</span><br></pre></td></tr></table></figure>

<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 17378 entries, 0 to 17377
Data columns (total 22 columns):
 #   Column                    Non-Null Count  Dtype  
---  ------                    --------------  -----  
 0   holiday                   17378 non-null  int64  
 1   workingday                17378 non-null  int64  
 2   temp                      17378 non-null  float64
 3   atemp                     17378 non-null  float64
 4   humidity                  17378 non-null  int64  
 5   year                      17378 non-null  int64  
 6   hour                      17378 non-null  int64  
 7   season_Fall               17378 non-null  uint8  
 8   season_Spring             17378 non-null  uint8  
 9   season_Summer             17378 non-null  uint8  
 10  season_Winter             17378 non-null  uint8  
 11  weather_Clear             17378 non-null  uint8  
 12  weather_Few clouds        17378 non-null  uint8  
 13  weather_Heavy Snow, Rain  17378 non-null  uint8  
 14  weather_Light Snow, Rain  17378 non-null  uint8  
 15  weekday_Friday            17378 non-null  uint8  
 16  weekday_Monday            17378 non-null  uint8  
 17  weekday_Saturday          17378 non-null  uint8  
 18  weekday_Sunday            17378 non-null  uint8  
 19  weekday_Thursday          17378 non-null  uint8  
 20  weekday_Tuesday           17378 non-null  uint8  
 21  weekday_Wednesday         17378 non-null  uint8  
dtypes: float64(2), int64(5), uint8(15)
memory usage: 1.2 MB
</code></pre>
<h3 id="두번째-amp-다섯번째"><a href="#두번째-amp-다섯번째" class="headerlink" title="두번째 &amp; 다섯번째"></a>두번째 &amp; 다섯번째</h3><ul>
<li>날짜 데이터 처리, dt.month, 이렇게 할 것</li>
<li>month, day 컬럼 삭제 예정</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">all_data[<span class="string">&#x27;date&#x27;</span>] = pd.to_datetime(all_data[<span class="string">&#x27;datetime&#x27;</span>])</span><br><span class="line">all_data[<span class="string">&#x27;year&#x27;</span>] = all_data[<span class="string">&#x27;date&#x27;</span>].dt.year</span><br><span class="line">all_data[<span class="string">&#x27;hour&#x27;</span>] = all_data[<span class="string">&#x27;date&#x27;</span>].dt.hour</span><br><span class="line">all_data[<span class="string">&#x27;weekday&#x27;</span>] = all_data[<span class="string">&#x27;date&#x27;</span>].dt.day_name()</span><br><span class="line"></span><br><span class="line">all_data.shape</span><br></pre></td></tr></table></figure>




<pre><code>(17378, 14)
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">all_data.info()</span><br></pre></td></tr></table></figure>

<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 17378 entries, 0 to 17377
Data columns (total 14 columns):
 #   Column      Non-Null Count  Dtype         
---  ------      --------------  -----         
 0   datetime    17378 non-null  object        
 1   season      17378 non-null  int64         
 2   holiday     17378 non-null  int64         
 3   workingday  17378 non-null  int64         
 4   weather     17378 non-null  int64         
 5   temp        17378 non-null  float64       
 6   atemp       17378 non-null  float64       
 7   humidity    17378 non-null  int64         
 8   windspeed   17378 non-null  float64       
 9   count       10885 non-null  float64       
 10  date        17378 non-null  datetime64[ns]
 11  year        17378 non-null  int64         
 12  hour        17378 non-null  int64         
 13  weekday     17378 non-null  object        
dtypes: datetime64[ns](1), float64(4), int64(7), object(2)
memory usage: 1.9+ MB
</code></pre>
<h3 id="세번째"><a href="#세번째" class="headerlink" title="세번째"></a>세번째</h3><ul>
<li>season 컬럼 처리 필요 (숫자를 문자로 바꾸자)<ul>
<li>인코딩 변환 (라벨인코딩, 원핫 인코딩)</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">all_data[<span class="string">&#x27;season&#x27;</span>] = all_data[<span class="string">&#x27;season&#x27;</span>].<span class="built_in">map</span>(&#123;</span><br><span class="line">    <span class="number">1</span>: <span class="string">&#x27;Spring&#x27;</span>, </span><br><span class="line">    <span class="number">2</span>: <span class="string">&#x27;Summer&#x27;</span>, </span><br><span class="line">    <span class="number">3</span>: <span class="string">&#x27;Fall&#x27;</span>, </span><br><span class="line">    <span class="number">4</span>: <span class="string">&#x27;Winter&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">all_data.shape</span><br></pre></td></tr></table></figure>




<pre><code>(17378, 14)
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">all_data[<span class="string">&#x27;season&#x27;</span>]</span><br></pre></td></tr></table></figure>




<pre><code>0        Spring
1        Spring
2        Spring
3        Spring
4        Spring
          ...  
17373    Spring
17374    Spring
17375    Spring
17376    Spring
17377    Spring
Name: season, Length: 17378, dtype: object
</code></pre>
<h3 id="네번째"><a href="#네번째" class="headerlink" title="네번째"></a>네번째</h3><ul>
<li>weather 컬럼 처리 필요 (숫자를 문자로 바꾸자)<ul>
<li>인코딩 변환 (라벨인코딩, 원핫 인코딩)</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">all_data[<span class="string">&#x27;weather&#x27;</span>] = all_data[<span class="string">&#x27;weather&#x27;</span>].<span class="built_in">map</span>(&#123;</span><br><span class="line">    <span class="number">1</span> : <span class="string">&#x27;Clear&#x27;</span>, </span><br><span class="line">    <span class="number">2</span> : <span class="string">&#x27;Few clouds&#x27;</span>, </span><br><span class="line">    <span class="number">3</span> : <span class="string">&#x27;Light Snow, Rain&#x27;</span>, </span><br><span class="line">    <span class="number">4</span> : <span class="string">&#x27;Heavy Snow, Rain&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">all_data.shape</span><br></pre></td></tr></table></figure>




<pre><code>(17378, 14)
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">all_data[<span class="string">&#x27;weather&#x27;</span>]</span><br></pre></td></tr></table></figure>




<pre><code>0             Clear
1             Clear
2             Clear
3             Clear
4             Clear
            ...    
17373    Few clouds
17374    Few clouds
17375         Clear
17376         Clear
17377         Clear
Name: weather, Length: 17378, dtype: object
</code></pre>
<h3 id="다섯번째"><a href="#다섯번째" class="headerlink" title="다섯번째"></a>다섯번째</h3><ul>
<li>weather 4인 데이터는 삭제 (이상치)<ul>
<li>4 대신, ‘Heavy Snow, Rain’</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">all_data.shape</span><br></pre></td></tr></table></figure>




<pre><code>(17378, 14)
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># all_data[&#x27;weather&#x27;].value_counts()</span></span><br></pre></td></tr></table></figure>

<ul>
<li>all_data에서 지우는 것이 아니라, train에서만 지워야 함.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># all_data = all_data[all_data[&#x27;weather&#x27;] != &#x27;Heavy Snow, Rain&#x27;]</span></span><br><span class="line"><span class="comment"># all_data.shape</span></span><br></pre></td></tr></table></figure>

<h2 id="일곱번째"><a href="#일곱번째" class="headerlink" title="일곱번째"></a>일곱번째</h2><ul>
<li>windspeed 컬럼 삭제</li>
<li>train만 제거</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">all_data = all_data.drop(<span class="string">&#x27;windspeed&#x27;</span>, axis = <span class="number">1</span>)</span><br><span class="line">all_data.shape</span><br></pre></td></tr></table></figure>




<pre><code>(17378, 13)
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">all_data.info()</span><br></pre></td></tr></table></figure>

<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 17378 entries, 0 to 17377
Data columns (total 13 columns):
 #   Column      Non-Null Count  Dtype         
---  ------      --------------  -----         
 0   datetime    17378 non-null  object        
 1   season      17378 non-null  object        
 2   holiday     17378 non-null  int64         
 3   workingday  17378 non-null  int64         
 4   weather     17378 non-null  object        
 5   temp        17378 non-null  float64       
 6   atemp       17378 non-null  float64       
 7   humidity    17378 non-null  int64         
 8   count       10885 non-null  float64       
 9   date        17378 non-null  datetime64[ns]
 10  year        17378 non-null  int64         
 11  hour        17378 non-null  int64         
 12  weekday     17378 non-null  object        
dtypes: datetime64[ns](1), float64(3), int64(5), object(4)
memory usage: 1.7+ MB
</code></pre>
<h3 id="date-컬럼-제거"><a href="#date-컬럼-제거" class="headerlink" title="date 컬럼 제거"></a>date 컬럼 제거</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">all_data.info()</span><br></pre></td></tr></table></figure>

<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 17378 entries, 0 to 17377
Data columns (total 13 columns):
 #   Column      Non-Null Count  Dtype         
---  ------      --------------  -----         
 0   datetime    17378 non-null  object        
 1   season      17378 non-null  object        
 2   holiday     17378 non-null  int64         
 3   workingday  17378 non-null  int64         
 4   weather     17378 non-null  object        
 5   temp        17378 non-null  float64       
 6   atemp       17378 non-null  float64       
 7   humidity    17378 non-null  int64         
 8   count       10885 non-null  float64       
 9   date        17378 non-null  datetime64[ns]
 10  year        17378 non-null  int64         
 11  hour        17378 non-null  int64         
 12  weekday     17378 non-null  object        
dtypes: datetime64[ns](1), float64(3), int64(5), object(4)
memory usage: 1.7+ MB
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">all_data = all_data.drop([<span class="string">&#x27;datetime&#x27;</span>, <span class="string">&#x27;date&#x27;</span>], axis = <span class="number">1</span>)</span><br><span class="line">all_data.shape</span><br></pre></td></tr></table></figure>




<pre><code>(17378, 11)
</code></pre>
<h3 id="원-핫-인코딩"><a href="#원-핫-인코딩" class="headerlink" title="원-핫 인코딩"></a>원-핫 인코딩</h3><p>- </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">all_data = pd.get_dummies(all_data).reset_index(drop=<span class="literal">True</span>)</span><br><span class="line">all_data.shape</span><br></pre></td></tr></table></figure>




<pre><code>(17378, 23)
</code></pre>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">all_data.info()</span><br></pre></td></tr></table></figure>

<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 17378 entries, 0 to 17377
Data columns (total 23 columns):
 #   Column                    Non-Null Count  Dtype  
---  ------                    --------------  -----  
 0   holiday                   17378 non-null  int64  
 1   workingday                17378 non-null  int64  
 2   temp                      17378 non-null  float64
 3   atemp                     17378 non-null  float64
 4   humidity                  17378 non-null  int64  
 5   count                     10885 non-null  float64
 6   year                      17378 non-null  int64  
 7   hour                      17378 non-null  int64  
 8   season_Fall               17378 non-null  uint8  
 9   season_Spring             17378 non-null  uint8  
 10  season_Summer             17378 non-null  uint8  
 11  season_Winter             17378 non-null  uint8  
 12  weather_Clear             17378 non-null  uint8  
 13  weather_Few clouds        17378 non-null  uint8  
 14  weather_Heavy Snow, Rain  17378 non-null  uint8  
 15  weather_Light Snow, Rain  17378 non-null  uint8  
 16  weekday_Friday            17378 non-null  uint8  
 17  weekday_Monday            17378 non-null  uint8  
 18  weekday_Saturday          17378 non-null  uint8  
 19  weekday_Sunday            17378 non-null  uint8  
 20  weekday_Thursday          17378 non-null  uint8  
 21  weekday_Tuesday           17378 non-null  uint8  
 22  weekday_Wednesday         17378 non-null  uint8  
dtypes: float64(3), int64(5), uint8(15)
memory usage: 1.3 MB
</code></pre>
<h2 id="데이터셋-나누기"><a href="#데이터셋-나누기" class="headerlink" title="데이터셋 나누기"></a>데이터셋 나누기</h2><ul>
<li>훈련데이터와 테스트 데이터로 재 나누기</li>
<li>count 타깃 데이터(&#x3D;종속 데이터)<ul>
<li>타깃 데이터가 있으면 훈련 데이터</li>
<li>타깃 데이터가 없으면 테스트 데이터</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">train = all_data[~pd.isnull(all_data[<span class="string">&#x27;count&#x27;</span>])]</span><br><span class="line">test = all_data[pd.isnull(all_data[<span class="string">&#x27;count&#x27;</span>])]</span><br><span class="line"></span><br><span class="line">train.shape, test.shape</span><br></pre></td></tr></table></figure>




<pre><code>((10885, 23), (6493, 23))
</code></pre>
<ul>
<li>count 컬럼을 제거해야 함</li>
<li>타깃 데이터만 y로 추출<ul>
<li>train, test count 컬럼 제거</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">y = train[<span class="string">&#x27;count&#x27;</span>] <span class="comment"># 타깃값 </span></span><br><span class="line"></span><br><span class="line">train = train.drop([<span class="string">&#x27;count&#x27;</span>], axis = <span class="number">1</span>)</span><br><span class="line">test = test.drop([<span class="string">&#x27;count&#x27;</span>], axis = <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">train.shape, test.shape</span><br></pre></td></tr></table></figure>




<pre><code>((10885, 22), (6493, 22))
</code></pre>
<h2 id="모델-훈련"><a href="#모델-훈련" class="headerlink" title="모델 훈련"></a>모델 훈련</h2><ul>
<li>LinearRegression 모형만 학습</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression</span><br><span class="line"><span class="comment"># train_test_split</span></span><br><span class="line"></span><br><span class="line">lr_model = LinearRegression()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 모형 학습 전</span></span><br><span class="line"><span class="comment"># 로그변환을 해준다. </span></span><br><span class="line">log_y = np.log(y)</span><br><span class="line">lr_model.fit(train, log_y)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 모형 예측</span></span><br><span class="line">lr_preds = lr_model.predict(test)</span><br><span class="line">lr_preds[:<span class="number">10</span>]</span><br></pre></td></tr></table></figure>




<pre><code>array([2.37067025, 2.51692861, 2.61965969, 2.70791364, 2.81064472,
       2.79551553, 2.85117928, 3.02430512, 3.12703621, 3.47246024])
</code></pre>
<h2 id="모형-예측"><a href="#모형-예측" class="headerlink" title="모형 예측"></a>모형 예측</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 지수변환</span></span><br><span class="line">final_preds = np.exp(lr_preds)</span><br><span class="line">final_preds</span><br></pre></td></tr></table></figure>




<pre><code>array([ 10.70456458,  12.39048215,  13.73105001, ..., 133.25111439,
       158.50077047, 154.745211  ])
</code></pre>
<h2 id="제출"><a href="#제출" class="headerlink" title="제출"></a>제출</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">submission[<span class="string">&#x27;count&#x27;</span>] = final_preds </span><br><span class="line">submission.to_csv(<span class="string">&#x27;submission.csv&#x27;</span>, index=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">submission.head()</span><br></pre></td></tr></table></figure>





  <div id="df-4e6175ca-0693-4468-b21f-0f9394ab9a74">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th &#123;
    vertical-align: top;
&#125;

.dataframe thead th &#123;
    text-align: right;
&#125;
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>datetime</th>
      <th>count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2011-01-20 00:00:00</td>
      <td>10.704565</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2011-01-20 01:00:00</td>
      <td>12.390482</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2011-01-20 02:00:00</td>
      <td>13.731050</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2011-01-20 03:00:00</td>
      <td>14.997952</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2011-01-20 04:00:00</td>
      <td>16.620630</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-4e6175ca-0693-4468-b21f-0f9394ab9a74')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

<p>  &lt;svg xmlns&#x3D;”<a target="_blank" rel="noopener" href="http://www.w3.org/2000/svg&quot;">http://www.w3.org/2000/svg&quot;</a> height&#x3D;”24px”viewBox&#x3D;”0 0 24 24”<br>       width&#x3D;”24px”&gt;<br>    <path d="M0 0h24v24H0V0z" fill="none"/><br>    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/><br>  </svg><br>      </button></p>
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

<pre><code>  &lt;script&gt;
    const buttonEl =
      document.querySelector(&#39;#df-4e6175ca-0693-4468-b21f-0f9394ab9a74 button.colab-df-convert&#39;);
    buttonEl.style.display =
      google.colab.kernel.accessAllowed ? &#39;block&#39; : &#39;none&#39;;

    async function convertToInteractive(key) &#123;
      const element = document.querySelector(&#39;#df-4e6175ca-0693-4468-b21f-0f9394ab9a74&#39;);
      const dataTable =
        await google.colab.kernel.invokeFunction(&#39;convertToInteractive&#39;,
                                                 [key], &#123;&#125;);
      if (!dataTable) return;

      const docLinkHtml = &#39;Like what you see? Visit the &#39; +
        &#39;&lt;a target=&quot;_blank&quot; href=https://colab.research.google.com/notebooks/data_table.ipynb&gt;data table notebook&lt;/a&gt;&#39;
        + &#39; to learn more about interactive tables.&#39;;
      element.innerHTML = &#39;&#39;;
      dataTable[&#39;output_type&#39;] = &#39;display_data&#39;;
      await google.colab.output.renderOutput(dataTable, element);
      const docLink = document.createElement(&#39;div&#39;);
      docLink.innerHTML = docLinkHtml;
      element.appendChild(docLink);
    &#125;
  &lt;/script&gt;
&lt;/div&gt;
</code></pre>
  </div>



</div><div class="article-licensing box"><div class="licensing-title"><p><a href="https://westar99.github.io/2022/07/08/day0708/">https://westar99.github.io/2022/07/08/day0708/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>John Doe</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2022-07-08</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2022-07-08</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="notification is-danger">You need to set <code>install_url</code> to use ShareThis. Please set it in <code>_config.yml</code>.</div></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">Like this article? Support the author with</h3><div class="buttons is-centered"><a class="button donate" href="/" target="_blank" rel="noopener" data-type="afdian"><span class="icon is-small"><i class="fas fa-charging-station"></i></span><span>Afdian.net</span></a><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>Alipay</span><span class="qrcode"><img src="/" alt="Alipay"></span></a><a class="button donate" href="/" target="_blank" rel="noopener" data-type="buymeacoffee"><span class="icon is-small"><i class="fas fa-coffee"></i></span><span>Buy me a coffee</span></a><a class="button donate" href="/" target="_blank" rel="noopener" data-type="patreon"><span class="icon is-small"><i class="fab fa-patreon"></i></span><span>Patreon</span></a><div class="notification is-danger">You forgot to set the <code>business</code> or <code>currency_code</code> for Paypal. Please set it in <code>_config.yml</code>.</div><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>Wechat</span><span class="qrcode"><img src="/" alt="Wechat"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2022/07/12/bikesd_220711/"><i class="level-item fas fa-chevron-left"></i><span class="level-item"> </span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2022/07/07/lecture_in_humanedu/"><span class="level-item"> </span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div class="notification is-danger">You forgot to set the <code>shortname</code> for Disqus. Please set it in <code>_config.yml</code>.</div></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="CHAI JE HYUNG"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">CHAI JE HYUNG</p><p class="is-size-6 is-block">GOD IS GOOD ALL THE TIME</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>SEOUL.KOREA</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">28</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">0</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">0</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/westar99" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/westar99"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://www.facebook.com/jehyung.chai"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><!--!--><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-07-21T08:02:00.887Z">2022-07-21</time></p><p class="title"><a href="/2022/07/21/day0721/"> </a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-07-21T07:57:06.913Z">2022-07-21</time></p><p class="title"><a href="/2022/07/21/day0720/"> </a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-07-19T07:47:16.136Z">2022-07-19</time></p><p class="title"><a href="/2022/07/19/day0719/"> </a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-07-18T06:33:34.000Z">2022-07-18</time></p><p class="title"><a href="/2022/07/18/day0718/"> </a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-07-14T01:42:44.000Z">2022-07-14</time></p><p class="title"><a href="/2022/07/14/house-0713/"> </a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2022/07/"><span class="level-start"><span class="level-item">July 2022</span></span><span class="level-end"><span class="level-item tag">15</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/06/"><span class="level-start"><span class="level-item">June 2022</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li></ul></div></div></div><!--!--><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget"><div class="card-content"><div class="notification is-danger">You need to set <code>client_id</code> and <code>slot_id</code> to show this AD unit. Please set it in <code>_config.yml</code>.</div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="CHAI JEHYUNG" height="28"></a><p class="is-size-7"><span>&copy; 2022 John Doe</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>